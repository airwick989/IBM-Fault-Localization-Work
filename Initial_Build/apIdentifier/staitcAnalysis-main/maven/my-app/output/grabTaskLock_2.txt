looking:grabTaskLock
synchronized (grabTaskLock) {
    if (workerInGrabTask) {
        // currentTask can change but that's ok
        String taskpath = currentTask;
        if (taskpath != null && taskpath.equals(path)) {
            // have to compare data. cannot compare version because then there
            // will be race with attemptToOwnTask()
            // cannot just check whether the node has been transitioned to
            // UNASSIGNED because by the time this worker sets the data watch
            // the node might have made two transitions - from owned by this
            // worker to unassigned to owned by another worker
            if (!slt.isOwned(serverName) && !slt.isDone(serverName) && !slt.isErr(serverName) && !slt.isResigned(serverName)) {
                LOG.info("task " + taskpath + " preempted from " + serverName + ", current task state and owner=" + slt.toString());
                worker.stopTask();
            }
        }
    }
}

synchronized (grabTaskLock) {
    if (workerInGrabTask) {
        // currentTask can change but that's ok
        String taskpath = currentTask;
        if (taskpath != null && taskpath.equals(path)) {
            // have to compare data. cannot compare version because then there
            // will be race with attemptToOwnTask()
            // cannot just check whether the node has been transitioned to
            // UNASSIGNED because by the time this worker sets the data watch
            // the node might have made two transitions - from owned by this
            // worker to unassigned to owned by another worker
            if (!slt.isOwned(serverName) && !slt.isDone(serverName) && !slt.isErr(serverName) && !slt.isResigned(serverName)) {
                LOG.info("task " + taskpath + " preempted from " + serverName + ", current task state and owner=" + slt.toString());
                worker.stopTask();
            }
        }
    }
}
possible Hot2
