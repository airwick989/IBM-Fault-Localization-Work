looking:AbstractWALRoller.this
// TODO logs will contend with each other here, replace with e.g. DelayedQueue
synchronized (AbstractWALRoller.this) {
    RollController controller = wals.computeIfAbsent(wal, rc -> new RollController(wal));
    {
        this.rollRequest.set(true);
    }
    AbstractWALRoller.this.notifyAll();
}

// TODO logs will contend with each other here, replace with e.g. DelayedQueue
synchronized (AbstractWALRoller.this) {
    RollController controller = wals.computeIfAbsent(wal, rc -> new RollController(wal));
    controller.requestRoll();
    AbstractWALRoller.this.notifyAll();
}
possible Hot1
